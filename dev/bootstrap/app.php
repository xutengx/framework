<?php

declare(strict_types = 1);

/*
  |--------------------------------------------------------------------------
  | 手动引入
  |--------------------------------------------------------------------------
  |
 */
//require_once ROOT . 'app/Kernel.php';

/*
  |--------------------------------------------------------------------------
  | 获取内核容器
  |--------------------------------------------------------------------------
  |
 */
$app = \Gaara\Core\Kernel::getIns();
ini_set('display_errors', '1');
error_reporting(E_ALL);

/*
  |--------------------------------------------------------------------------
  | 获取配置信息
  |--------------------------------------------------------------------------
  |
 */
$app->singleton(\Gaara\Core\Conf::class, function() {
	$envFile          = dirname(__DIR__) . '/.env';
	$configFolderPath = dirname(__DIR__) . '/config';
	return new \Gaara\Core\Conf($envFile, $configFolderPath);
});

$app->setConf($app->make(\Gaara\Core\Conf::class));
/*
  |--------------------------------------------------------------------------
  | 注册绑定
  |--------------------------------------------------------------------------
  |
  | $app->bind(string, string)			普通绑定
  | $app->bindOnce(string, string)		单次绑定
  | $app->singleton(string, string)		单例绑定
  |
 */
/*
  |--------------------------------------------------------------------------
  | 获取对象
  |--------------------------------------------------------------------------
  |
  | $app->make(string)
  |
 */

/*
  |--------------------------------------------------------------------------
  | 返回内核容器
  |--------------------------------------------------------------------------
  |
  |
 */
return $app;
